<app-authentication-layout image="{{ userImage }}" title="{{ title }}">
  <div class="container">
    <form [formGroup]="registerForm" class="content">

      <div class="first-row row">
        <app-primary-input class="name-input" formControlName="name" inputName="name" type="text" label="Name"
          placeholder="{{ userName }}">
        </app-primary-input>
        <div class="form-item file-upload">
          <label for="file-upload" class="file-upload-label">
            <i class="fas fa-image"></i>
          </label>
          <input id="file-upload" type="file" class="file-upload-input" (change)="onFileSelected($event)" />
        </div>
      </div>

      <div class="form-row email row">
        <div class="form-item email-input">
          <app-primary-input formControlName="email" inputName="email" type="email" label="Email"
            placeholder="{{ userEmail }}">
          </app-primary-input>
        </div>
      </div>

      <div class="form-row password row">
        <div class="form-item password-input">
          <app-primary-input formControlName="password" inputName="password" type="password" label="Password"
            placeholder="Your Password">
          </app-primary-input>
          <div class="password-strength">
            <div [ngClass]="{
                weak: passwordStrength === 'weak',
                medium: passwordStrength === 'medium',
                strong: passwordStrength === 'strong'
              }" class="strength-bar"></div>
          </div>
        </div>
      </div>

      <div class="form-row confirm-password row">
        <div class="form-item confirm-password-input">
          <app-primary-input formControlName="confirmPassword" inputName="confirmPassword" type="password"
            label="Confirm Password" placeholder="Confirm Password">
          </app-primary-input>
          <span *ngIf="registerForm.errors?.['mismatch']" class="error-message">
            Passwords do not match
          </span>
        </div>
      </div>

      <div class="form-row button row">
        <div class="form-item">
          <app-button [isPrimary]="false" text="{{ cancelButton.text }}" (click)="(cancelButton.onClick)">
          </app-button>
        </div>
        <div class="form-item">
          <!-- <app-button class="primary-button" text="Register" type="submit" routerLink="{{ route }}  [isDisabled]="!registerForm.valid"" -->
          <app-button class="primary-button" text="Register" type="submit" (clicked)="register()">
          </app-button>
        </div>
      </div>

    </form>
  </div>
</app-authentication-layout>