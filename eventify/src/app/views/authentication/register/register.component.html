<app-authentication-layout title="Register">
  <div class="content">
    <form [formGroup]="registerForm" (ngSubmit)="register()">
      <div class="form-row name-nickname-file">
        <div class="form-item name">
          <app-primary-input
            formControlName="name"
            inputName="name"
            type="text"
            label="Name"
            placeholder="John Doe"
          >
          </app-primary-input>
        </div>
        <div class="form-item nickname">
          <app-primary-input
            formControlName="nickname"
            inputName="nickname"
            type="text"
            label="Nickname"
            placeholder="johnny"
          >
          </app-primary-input>
        </div>
        <div class="form-item file-upload">
          <label for="file-upload" class="file-upload-label">
            <i class="fas fa-image"></i>
          </label>
          <input id="file-upload" type="file" class="file-upload-input" />
        </div>
      </div>

      <div class="form-row email">
        <div class="form-item email-input">
          <app-primary-input
            formControlName="email"
            inputName="email"
            type="email"
            label="Email"
            placeholder="yourmail@domain.com"
          >
          </app-primary-input>
        </div>
      </div>

      <div class="form-row state-city">
        <div class="form-item city">
          <app-primary-input
            formControlName="city"
            inputName="city"
            type="text"
            label="City"
            placeholder="Your City"
          >
          </app-primary-input>
        </div>
        <div class="form-item state">
          <app-primary-input
            formControlName="state"
            inputName="state"
            type="text"
            label="State"
            placeholder="Your State"
          >
          </app-primary-input>
        </div>
      </div>

      <div class="form-row password">
        <div class="form-item password-input">
          <app-primary-input
            formControlName="password"
            inputName="password"
            type="password"
            label="Password"
            placeholder="Your Password"
          >
          </app-primary-input>
          <div class="password-strength">
            <div
              [ngClass]="{
                weak: passwordStrength === 'weak',
                medium: passwordStrength === 'medium',
                strong: passwordStrength === 'strong'
              }"
              class="strength-bar"
            ></div>
          </div>
        </div>
      </div>

      <div class="form-row confirm-password">
        <div class="form-item confirm-password-input">
          <app-primary-input
            formControlName="confirmPassword"
            inputName="confirmPassword"
            type="password"
            label="Confirm Password"
            placeholder="Confirm Password"
          >
          </app-primary-input>
          <span *ngIf="registerForm.errors?.['mismatch']" class="error-message">
            Passwords do not match
          </span>
        </div>
      </div>

      <div class="form-row button">
        <div class="form-item">
          <app-button class="primary-button" text="Register" type="submit">
          </app-button>
        </div>
      </div>
    </form>
  </div>
</app-authentication-layout>
